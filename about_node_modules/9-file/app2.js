const fs = require("fs").promises;

// api 이용에 3가지 방법
// ex)
// rename(...., callback(error, data))
// try { renameSync(....) } catch(e) {}
// promise.rename().then().catch(e)

// reading a file
fs.readFile("./text.txt", "utf8") // utf8로 자동 인코딩
  .then((data) => console.log(data))
  .catch(console.error);

// writing a file
fs.writeFile("./file.txt", "Hello Good!!!") // 덮어쓰기
  .catch(console.error);

fs.appendFile("./file.txt", "Hello Good!!!") // 뒤에추가쓰기
  .then(() => {
    // copy
    fs.copyFile("./file.txt", "./file2.txt") // 비동기이므로 then 으로 쓰기먼저 처리
      .catch(console.error);
  })
  .catch(console.error);

// folder
fs.mkdir("sub-folder") //
  .catch(console.error);

// 해당하는 경로에 대한 모든 파일의 이름을 읽어오기
fs.readdir("./") //
  .then(console.log)
  .catch(console.error);
